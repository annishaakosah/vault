<ion-header>
  <ion-navbar>
    <ion-title>Discover</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-label>Sort by:</ion-label>
    <ion-select value="popularity.desc" [(ngModel)]="sort_by" (ionChange)="change_selection(sort_by)">
        <ion-option value="popularity.desc">Popularity ↓</ion-option>
        <ion-option value="popularity.asc">Popularity ↑</ion-option>
        <ion-option value="first_air_date.desc">Newest</ion-option>
        <ion-option value="first_air_date.asc">Oldest</ion-option>
        <ion-option value="vote_average.desc">Top rated</ion-option>
    </ion-select>
  <ion-grid>
    <ion-row>
      <ion-col col-6 col-md-4 col-lg-2 class="poster" *ngFor="let title of getResults()">
        <img src="{{'https://image.tmdb.org/t/p/w500'+title.poster_path}}" class="poster" (click)='getDetails(title.id)' />
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>